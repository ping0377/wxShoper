(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-employeeStock-employeeStock"],{"22cb":function(t,e,o){"use strict";o.r(e);var n=o("d856"),i=o.n(n);for(var a in n)"default"!==a&&function(t){o.d(e,t,(function(){return n[t]}))}(a);e["default"]=i.a},"300e":function(t,e,o){"use strict";var n={"an-layer":o("69fd").default},i=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-uni-view",{staticClass:"alldata"},[o("an-layer",{ref:"anRef",attrs:{autoClose:!0,timer:"2"}}),o("v-uni-view",{staticClass:"sweep_code"},[o("v-uni-view",{staticClass:"sweep_code_data"},[o("v-uni-input",{attrs:{placeholder:"请输入预约单号,或扫码"},on:{blur:function(e){arguments[0]=e=t.$handleEvent(e),t.getInfo.apply(void 0,arguments)}},model:{value:t.orderNo,callback:function(e){t.orderNo=e},expression:"orderNo"}}),o("v-uni-button",{on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.existFruit.apply(void 0,arguments)}}},[t._v("确定")]),o("v-uni-text",{staticClass:"iconfont uni-bold",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.sweepCodeh5.apply(void 0,arguments)}}},[t._v("")])],1)],1),o("v-uni-view",{staticClass:"exist_view"},[o("v-uni-view",{staticClass:"exist_info"},[o("v-uni-view",{},[o("v-uni-text",[t._v("预约单号：")]),o("v-uni-text",[t._v(t._s(t.orderInfo.fkReserveNo))])],1),o("v-uni-view",{},[o("v-uni-text",[t._v("收取员工姓名：")]),o("v-uni-text",[t._v(t._s(t.orderInfo.name))])],1),o("v-uni-view",{},[o("v-uni-text",[t._v("收取员工编号：")]),o("v-uni-text",[t._v(t._s(t.orderInfo.fkWorkerNo))])],1),o("v-uni-view",{},[o("v-uni-text",{staticClass:"uni-bold"},[t._v("取件码：")]),o("v-uni-text",{staticClass:"uni-bold"},[t._v(t._s(t.orderInfo.code))])],1),o("v-uni-view",{},[o("v-uni-button",{staticClass:"uni-bold",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.getSackInfo.apply(void 0,arguments)}}},[t._v("查看订单详情")])],1)],1)],1)],1)},a=[];o.d(e,"b",(function(){return i})),o.d(e,"c",(function(){return a})),o.d(e,"a",(function(){return n}))},"3c63":function(t,e,o){"use strict";var n=o("b40f"),i=o.n(n);i.a},6379:function(t,e,o){var n=o("24fb");e=n(!1),e.push([t.i,"uni-page-body[data-v-941288f8]{height:100vh;background-color:#d8d8d8}.alldata[data-v-941288f8]{padding-top:%?60?%}.sweep_code[data-v-941288f8]{margin:0 0 %?20?% %?20?%}.sweep_code_data[data-v-941288f8]{position:relative}.sweep_code_data uni-text[data-v-941288f8]{font-size:%?50?%;position:absolute;left:%?425?%;top:%?-3?%}.sweep_code .sweep_code_data uni-input[data-v-941288f8]{width:%?355?%;height:%?80?%;line-height:%?80?%;min-height:%?80?%;border:1px solid;background-color:#fff;display:inline-block;border-radius:%?160?% %?160?% %?160?% %?160?%;padding:0 %?85?% 0 %?52?%;margin-right:%?15?%}.sweep_code_data .iconfont[data-v-941288f8]{z-index:2}.sweep_code uni-button[data-v-941288f8]{display:inline-block;width:%?200?%;height:%?80?%;line-height:%?80?%;background-color:#007aff;border-radius:%?160?% %?160?% %?160?% %?160?%;color:#fff}.exist_view[data-v-941288f8]{padding:0 %?20?%}.exist_info[data-v-941288f8]{background-color:#fff;border-radius:%?26?%}.exist_info uni-view[data-v-941288f8]:nth-last-of-type(n+2){border-bottom:1px solid #d8d8d8;text-indent:1em;height:%?80?%;line-height:%?80?%;font-size:1.1em}.exist_info uni-button[data-v-941288f8]{background-color:#00f;color:#fff;border-radius:0 0 %?25?% %?25?%;margin-top:%?5?%}body.?%PAGE?%[data-v-941288f8]{background-color:#d8d8d8}",""]),t.exports=e},a612:function(t,e,o){"use strict";o.r(e);var n=o("300e"),i=o("22cb");for(var a in i)"default"!==a&&function(t){o.d(e,t,(function(){return i[t]}))}(a);o("3c63");var r,d=o("f0c5"),s=Object(d["a"])(i["default"],n["b"],n["c"],!1,null,"941288f8",null,!1,n["a"],r);e["default"]=s.exports},b40f:function(t,e,o){var n=o("6379");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var i=o("4f06").default;i("c187a5da",n,!0,{sourceMap:!1,shadowMode:!1})},d856:function(t,e,o){"use strict";var n=o("4a46"),i=o("ee27");o("c975"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=i(o("8bd4")),r=n(o("a45c")),d=i(o("ae1b")),s={onLoad:function(){r.Prompt(),d.default.that=this,uni.getStorage({key:"ClientAddr",success:function(t){d.default.that.client=t.data}})},onReady:function(){if("android"==uni.getSystemInfoSync().platform){var t=location.href,e={PageUrl:t},o=JSON.stringify(e);r.getConfig(d.default.that.client,o)}},data:function(){return{client:"",orderNo:"",orderInfo:{},skip:"../orderFormDetails/orderFormDetails?item=",ordinfo:!0}},methods:{existFruit:function(){var t=this;if(""==this.client)this.$refs.anRef.show("登录失效，请重新登录",{type:"error"}),setTimeout(r.toLogin,1200);else if(""==this.orderNo)return void this.$refs.anRef.show("存件失败，请扫码或者输入预约单号",{type:"warn"});var e={fkReserveNo:this.orderNo},o="api/Applet.ashx?Function=HttpVirtualReservationDistribute",n=JSON.stringify(e);r.multiplexFun(this.client,n,o).then((function(e){"成功"==e.data.State?(t.$refs.anRef.show("存件成功",{type:"success"}),t.orderInfo=e.data.Body,t.orderInfo.state=2):"失败"==e.data.State&&-1!=e.data.Reason.indexOf("预约单已配送")?(t.$refs.anRef.show("存件失败，预约单已配送",{type:"warn"}),t.orderInfo.state=3):"失败"==e.data.State&&"缺少员工号"==e.data.Reason?t.$refs.anRef.show("存件失败，缺少员工号",{type:"warn"}):t.$refs.anRef.show("存件失败，检查订单号是否正确",{type:"warn"})}))},getSackInfo:function(){""!=this.orderNo?this.ordinfo?this.$refs.anRef.show("订单号有误，请检查订单号",{type:"warn"}):uni.navigateTo({url:this.skip+encodeURIComponent(JSON.stringify(this.orderInfo))+"&state="+encodeURIComponent(JSON.stringify(this.orderInfo.state))}):this.$refs.anRef.show("请先输入单号或扫码",{type:"warn"})},sweepCodeh5:function(){a.default.scanQRCode({needResult:1,scanType:["qrCode","barCode"],success:function(t){if(d.default.that.orderNo=t.resultStr,""!=d.default.that.orderNo){d.default.that.orderInfo.pkNo=d.default.that.orderNo,d.default.that.orderInfo.state=1;var e={pkNo:d.default.that.orderNo},o=JSON.stringify(e),n="api/WeChatUser.ashx?Function=HttpQueryReservationInfo";r.multiplexFun(d.default.that.client,o,n).then((function(t){console.log(t.data),0==t.data.Body.length?d.default.that.ordinfo=!0:d.default.that.ordinfo=!1}))}setTimeout((function(){d.default.that.existFruit()}),0)}})},getInfo:function(){var t=this;if(""!=this.orderNo){this.orderInfo.pkNo=this.orderNo,this.orderInfo.state=1;var e={pkNo:this.orderNo},o=JSON.stringify(e),n="api/WeChatUser.ashx?Function=HttpQueryReservationInfo";r.multiplexFun(this.client,o,n).then((function(e){"成功"==e.data.State&&(0==e.data.Body.length?t.ordinfo=!0:t.ordinfo=!1)}))}}}};e.default=s}}]);